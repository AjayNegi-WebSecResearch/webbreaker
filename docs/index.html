<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title></title>

        <link rel="stylesheet" href="/css/bootstrap.min.css">
        <link rel="stylesheet" href="/css/font-awesome.min.css">
        <link rel="stylesheet" href="/css/highlight.dark.css">
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">

            <a class="navbar-brand" href="/">
                The title
                <small class="hidden-xs hidden-sm">
                    This is the default subtitle!
                </small>
            </a>

            
        </header>

        <main class="container">
            <div class="row">

                
                <section id="content" class="col-sm-12">
                    <h1 id="webbreaker-documentation">WebBreaker Documentation</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<p><a href="#introduction">Introduction</a></p>
<ul>
<li><a href="#description">Description: <code>description</code></a></li>
</ul>
<p><a href="#user-guide">User Guide</a></p>
<ul>
<li><a href="#installation">Installation <code>installation</code></a></li>
<li><a href="#supported-features">Supported Features <code>supported_features</code></a></li>
<li><a href="#usage">Usage <code>usage</code></a></li>
<li><a href="#logging">Logging <code>logging</code></a></li>
<li><a href="#docker">Docker <code>docker</code></a></li>
<li><a href="#testing">Testing <code>testing</code></a></li>
<li><a href="#notifications">Notifications <code>notifications</code></a></li>
</ul>
<p><a href="#configuration">Configuration</a></p>
<ul>
<li><a href="#webbreaker-config">WebBreaker <code>webbreaker_config</code></a></li>
<li><a href="#fortify-config">Fortify <code>fortify_config</code></a></li>
<li><a href="#threadfix-config">ThreadFix <code>threadfix_config</code></a></li>
<li><a href="#webinspect-config">WebInspect <code>webinspect_config</code></a></li>
<li>
<p><a href="#email-config">Email <code>email_config</code></a></p>
</li>
<li><a href="#webbreaker-cheatsheet">WebBreaker Command Usage <code>webbreaker_cheatsheet</code></a></li>
</ul>
<h2 id="introduction">Introduction <code>introduction</code></h2>
<h3 id="description">Description <code>description</code></h3>
<p>Build functional security testing, into your software development and release cycles! WebBreaker provides the capabilities to automate and centrally manage Dynamic Application Security Testing (DAST) as part of your DevOps pipeline.</p>
<h2 id="user-guide">User Guide <code>user-guide</code></h2>
<h3 id="installation">Installation: <code>installation</code></h3>
<h4 id="quick-local-installation">Quick Local Installation</h4>
<p>Install WebBreaker from source.</p>
<ul>
<li><code>git clone https://github.com/target/webbreaker</code></li>
<li><code>cd webbreaker</code></li>
<li><code>pip install -r requirements.txt</code></li>
<li><code>python setup.py install</code></li>
</ul>
<p>Install WebBreaker with Linux/MacOS pyinstaller.</p>
<ul>
<li><code>git clone https://github.com/target/webbreaker</code></li>
<li><code>cd webbreaker</code></li>
<li><code>python setup.py pyinstaller</code></li>
</ul>
<p>Install WebBreaker with Windows pyinstaller.</p>
<ul>
<li><code>git clone https://github.com/target/webbreaker</code></li>
<li><code>cd webbreaker</code></li>
<li><code>Set-ExecutionPolicy Unrestricted</code></li>
<li><code>Powershell.exe -executionpolicy unrestricted -command build.ps1</code></li>
<li><code>python setup.py windows</code></li>
</ul>
<h4 id="package-install">Package Install</h4>
<p>WebBreaker releases are packaged on github.com and can be installed locally.</p>
<ul>
<li><code>pip install -e git+https://github.com/target/webbreaker.git#egg=webbreaker</code></li>
</ul>
<h3 id="supported-features">Supported Features: <code>supported_features</code></h3>
<ul>
<li>Jenkins global environmental variable inheritance with scan options.</li>
<li>WebInspect REST API support for v9.30 and above. </li>
<li>Export both XML and FPR WebInspect formats to Fortify Software Security Center (SSC) or other compatible vulnerability management web applications for vulnerability analysis/triage.</li>
<li>Ability to automatically upload scan results to Fortify SSC or other third-party vulnerability management software.</li>
<li>Centrally administer all configurations required to launch WebInspect scans.</li>
<li>Remotely query arbitrary policies, settings, webmacros, from any WebInspect deployment.</li>
<li>Configurable property .ini files to support your <a href=".webbreaker/config.ini">Foritfy</a> and <a href=".webbreaker/config.ini">WebInspect</a> deployments.</li>
<li>Enterprise scalability with configurable Just-In-Time (JIT) scheduling to distribute your WebInspect scans between two (2) or greater sensors.</li>
<li>ChatOps extensibility and <a href=".webbreaker/config.ini">email notifications</a> on scan start and completion.</li>
<li>Local <a href=".webbreaker/log">logging</a> of WebInspect scan state.</li>
</ul>
<h3 id="usage">Usage <code>usage</code></h3>
<p>Webbreaker utilizes a structure of upper-level and lower-level commands to enable interaction with multiple 3rd party platforms. The two platforms currently supported are WebInspect and Fortfiy and they can be accessed using their respective upper-level commands. Webbreaker supports multiple functions for each platform which are accessed via lower-level commands. The current command structure is listed below.</p>
<ul>
<li>webbreaker
<ul>
<li>webinspect
<ul>
<li>scan</li>
<li>servers</li>
<li>list</li>
<li>download</li>
<li>proxy</li>
</ul></li>
<li>fortify
<ul>
<li>list</li>
<li>upload</li>
<li>scan</li>
<li>download</li>
</ul></li>
<li>admin
<ul>
<li>credentials</li>
<li>clear</li>
</ul></li>
<li>threadfix
<ul>
<li>list</li>
<li>teams</li>
<li>applications</li>
<li>scans</li>
<li>upload</li>
<li>create_app</li>
</ul></li>
</ul></li>
</ul>
<p>A proper Webbreaker command utilizes the structure 'webbreaker [webinspect|fortify|threadfix|admin] [lower-level command] [OPTIONS]'</p>
<h3 id="logging">Logging <code>logging</code></h3>
<p>WebBreaker local logs may be found under <code>~/.webbreaker/logs</code> and can be implemented with Elastic Stack for log aggregation. Recommended compenents include Filebeat agents installed on all WebInspect servers, forwarding to Logstash, and visualized in Kibana. General implementation details are <a href="https://qbox.io/blog/welcome-to-the-elk-stack-elasticsearch-logstash-kibana/">here</a>.  A recommended approach is to tag log events and queries with <code>WebInspect</code> and <code>webbreaker</code>, but remember
queries are case sensitive.</p>
<h3 id="docker">Docker <code>docker</code></h3>
<p>Run WebBreaker in Docker from the repository's root directory, the pre-configured virtualenv environments are <code>venv27</code> for Python 2.7 or <code>venv36</code> for Python 3.6.  Examples are illustrated below.</p>
<pre><code>docker build -t test_env:centos . \
&amp;&amp; docker create -it --name test_env test_env:centos  \
&amp;&amp; docker start test_env \
&amp;&amp; docker exec -it test_env bash</code></pre>
<p>To remove the environment gracefully, perform the following command:</p>
<pre><code>docker stop test_env &amp;&amp; docker rm test_env</code></pre>
<h3 id="testing">Testing <code>testing</code></h3>
<p>Our automated testing is performed with tox and detox on Python 3.6 and 2.7.</p>
<h4 id="requirements">Requirements</h4>
<ol>
<li>Be in your project root to run tests. 
<ul>
<li><code>pip install -rrequirements.txt</code></li>
</ul></li>
<li>Python2.7 and Python3.6 are currently tested in our tox.ini file
<ul>
<li>If you want to test it against your current version python, you can the other ways to test. Tox is
suggested though. </li>
</ul></li>
</ol>
<h4 id="tox">Tox</h4>
<p>We use detox instead of tox for the speed of concurrent testing. With the speed of testing, comes a lack of
coverage output</p>
<ul>
<li><code>detox</code></li>
</ul>
<p>Tox will allow you to see the coverage.py results.</p>
<ul>
<li><code>tox</code></li>
</ul>
<h4 id="other-ways-to-test">Other ways to test</h4>
<p>These can test against your version of python without creating seperate virtualenv. For isolation of issues
and ease of use it is suggested that you use tox. </p>
<pre><code>python setup.py install
pytest</code></pre>
<pre><code>python setup.py install
python setup.py test</code></pre>
<h3 id="notifications">Notifications</h3>
<p>WebBreaker provides notifications or email for start-scan and end-scan events. </p>
<p>The email notifier merges the provided event data into an HTML email message and sends the message. All SMTP-related
settings are managed under your user's home directory within the <code>~.webbreaker/config.ini</code>, and read during the webbreaker execution.</p>
<p>If an error occurs on behalf of the notifiers at any point during the process of creating or sending
notifications, the event will be logged, without any interruption of WebBreaker execution or the WebInspect scan.</p>
<h2 id="configuration">Configuration</h2>
<p>Below is the default config.ini that is set at first time install, once you execute <code>webbreaker</code> for the first time.  All subsequent installs and updates will not update your <code>~/.webbreaker/config.ini</code> unless it is deleted.  You will need to modify the appropriate sections to your environment specifications.</p>
<h3 id="default">Default</h3>
<pre><code>[fortify]
ssc_url = https://fortify.example.com
business_risk_ranking = High
development_phase = Active
development_strategy = Internal
accessibility = externalpublicnetwork
custom_attribute =
project_template = Prioritized High Risk Issue Template
application_name = WEBINSPECT
username =
password =

[threadfix]
host = https://threadfix.example.com:8443/threadfix
api_key =

[webinspect]
server_01 = https://webinspect-server-1.example.com:8083
endpoint_01 = %(server_01)s|%(size_large)s
git_repo = https://github.com/webbreaker/webinspect.git
authenticate = false
username =
password =

[webinspect_policy]
aggressivesqlinjection = 032b1266-294d-42e9-b5f0-2a4239b23941
allchecks = 08cd4862-6334-4b0e-abf5-cb7685d0cde7
apachestruts = 786eebac-f962-444c-8c59-7bf08a6640fd
application = 8761116c-ad40-438a-934c-677cd6d03afb
assault = 0a614b23-31fa-49a6-a16c-8117932345d8
blank = adb11ba6-b4b5-45a6-aac7-1f7d4852a2f6
criticalsandhighs = 7235cf62-ee1a-4045-88f8-898c1735856f
crosssitescripting = 49cb3995-b3bc-4c44-8aee-2e77c9285038
development = 9378c6fa-63ec-4332-8539-c4670317e0a6
mobile = be20c7a7-8fdd-4bed-beb7-cd035464bfd0
nosqlandnode.js = a2c788cc-a3a9-4007-93cf-e371339b2aa9
opensslheartbleed = 5078b547-8623-499d-bdb4-c668ced7693c
owasptop10applicationsecurityrisks2013 = 48cab8a0-669e-438a-9f91-d26bc9a24435
owasptop10applicationsecurityrisks2007 = ece17001-da82-459a-a163-901549c37b6d
owasptop10applicationsecurityrisks2010 = 8a7152d5-2637-41e0-8b14-1330828bb3b1
passivescan = 40bf42fb-86d5-4355-8177-4b679ef87518
platform = f9ae1fc1-3aba-4559-b243-79e1a98fd456
privilegeescalation = bab6348e-2a23-4a56-9427-2febb44a7ac4
qa = 5b4d7223-a30f-43a1-af30-0cf0e5cfd8ed
quick = e30efb2a-24b0-4a7b-b256-440ab57fe751
safe = def6a5b3-d785-40bc-b63b-6b441b315bf0
soap = a7eb86b8-c3fb-4e88-bc59-5253887ea5b1
sqlinjection = 6df62f30-4d47-40ec-b3a7-dad80d33f613
standard = cb72a7c2-9207-4ee7-94d0-edd14a47c15c
transportlayersecurity = 0fa627de-3f1c-4640-a7d3-154e96cda93c

[emailer]
smtp_host = smtp.example.com
smtp_port = 25
from_address = webbreaker-no-reply@example.com
to_address = webbreaker-activity@example.com
default_to_address =
chatroom =
email_template =
        &lt;html&gt;
        &lt;head&gt;&lt;/head&gt;
        &lt;body&gt;
        &lt;p&gt;Hello,&lt;br/&gt;&lt;br/&gt;
            The following scan has logged new activity:
        &lt;ul&gt;
            &lt;li&gt;Attack traffic source: {0}&lt;/li&gt;
            &lt;li&gt;Attack traffic target(s):&lt;/li&gt;
            &lt;ul&gt;
                {4}
            &lt;/ul&gt;
            &lt;li&gt;Scan name: {1}&lt;/li&gt;
            &lt;li&gt;Scan ID: {2}&lt;/li&gt;
            &lt;li&gt;&lt;b&gt;Action: {3}&lt;/b&gt;&lt;/li&gt;
        &lt;/ul&gt;
        &lt;/p&gt;
        &lt;p&gt;
            Questions? Concerns? Please contact us in our Hipchat room, &amp;quot;WebBreaker Activity&amp;quot;,
            or &lt;a href="mailto:webbreaker-team@example.com"&gt;email us&lt;/a&gt;.
        &lt;/p&gt;

        &lt;p&gt;
            Want to manage your subscription to these emails? Use &lt;a
                href="http://wiki.example.com/index.php/GroupID"&gt;GroupID&lt;/a&gt;, and
            add/remove yourself from webbreaker-activity.
        &lt;/p&gt;
        &lt;/body&gt;
        &lt;/html&gt;</code></pre>
<h3 id="threadfix">[threadFix]</h3>
<h5 id="host">host</h5>
<p>Threadfix host that will be used.</p>
<h5 id="api_key">api_key</h5>
<p>This api_key to authenticate ThreadFix actions</p>
<h3 id="fortify">[fortify]</h3>
<p>Fortify SSC settings can be found under [fortify]</p>
<h5 id="ssc_url">ssc_url</h5>
<p>URL of the fortify server to contact</p>
<h5 id="project_template">project_template</h5>
<p>Static value of the Fortify SSC Project Template you wish to set as a default for each Application Version you create.</p>
<h5 id="application_name">application_name</h5>
<p>Static Value of the default Fortify SSC Application you wish to use without stating it on the command line.</p>
<h5 id="username">username</h5>
<p>Fortify username that will be used for authentication with ssc_url. It is stored using an encrypted value. Use
<code>webbreaker admin credentials --fortify</code> to set your username &amp; password.</p>
<h5 id="password">password</h5>
<p>Fortify username that will be used for authentication with ssc_url. It is stored using an encrypted value. Use
<code>webbreaker admin credentials --fortify</code> to set your username &amp; password.</p>
<h3 id="webinspect">[webinspect]</h3>
<p>WebInspect scan configuration files for <code>policies</code> are versioned and hosted from a GIT repository configured
in <code>~/.webbreaker/config.ini</code>.  Additionally, all WebInspect policies and servers are managed from this
configuration file.  </p>
<p>All WebInspect distributions are packaged with a <code>Default.xml</code> setting file that may be overridden and uploaded
to the WebInspect deployment with the webbreaker option <code>--settings</code>.  The setting xml file contains
all possible options for your scan, including a WebInspect scan including policy, workflow and/or login
macro, scan depth, and allowed hosts.</p>
<h4 id="server_xx-and-endpoint_xx">server_XX and endpoint_XX</h4>
<p>Provides a <em>Just-In-Time</em> (JIT) scheduler provides the ability to load balance a WebInspect cluster for scans.</p>
<h4 id="webinspect_size">webinspect_size</h4>
<p>Sets the number for large and small WebInspect scan servers. This assists with <em>Just-In-Time</em> (JIT) scheduling</p>
<h4 id="webinspect_repo">webinspect_repo</h4>
<p>A unique GIT repo is defined by the user and is mutually exclusive from the WebBreaker source.  The
assumption is each WebBreaker installation will have a unique GIT URL defined.  Upon each execution,
the repo refreshes <em>all</em> settings file(s), assuming that there may be newly created, deletions, or modifications
of settings files.  All settings files used in execution must reside in this respective repo
under <code>~/.webbreaker/etc/webinspect/settings</code>.</p>
<h4 id="username-1">username</h4>
<p>Basic authentication with <code>.htaccess</code> syntax configured on your WebInspect server</p>
<p>If authentication is set to true, all WebInspect requests will use basic auth. A user will be prompted for
credentials which, if valid, will be encrypted and saved. Credentials can also be set via the
<code>webbreaker admin credentials --webinspect</code> command.</p>
<h4 id="password-1">password</h4>
<p>Basic authentication with <code>.htaccess</code> syntax configured on your WebInspect server</p>
<h3 id="webinspect_policy">[webinspect_policy]</h3>
<p>Grouping of proprietary WebInspect tests to perform.  Tests or rules are represented in an <code>xml</code> element with
a <code>.policy</code> file extension.  Custom tests or Checks are mapped to a unique WebInspect ID.  The mapping for all
policies shipped with WebInspect are mapped with their respective GUID within this section.</p>
<p><em>Note:</em> All custom polices are automatically uploaded to the targeted WebInspect server and must be referenced
as a GUID.  </p>
<h3 id="email">email</h3>
<p>Notifications for start-scan and end-scan events. A simple publisher/subscriber pattern is implemented under
the &quot;notifiers&quot; folder.</p>
<p>A Reporter object holds a collection of Notifier objects, each of which implements a Notify function responsible
for creating the desired notification. Currently, two notification types are implemented email and database.</p>
<p>The email notifier merges the provided event data into an HTML email message and sends the message. All
SMTP-related settings are stored in .emailrc, and read during program startup.</p>
<h2 id="webbreaker-command-usage">WebBreaker Command Usage <code>webbreaker_cheatsheet</code></h2>
<p>See <a href="https://github.com/target/webbreaker/blob/feature-main-refactor/docs/cheatsheet.html">WebBreaker Cheatsheet</a></p>
                </section>

            </div>
        </main>

        <footer>
            <div class="container">
                <p class="text-muted">
                    website generated with <a href="http://couscous.io" title="Markdown website generator">Couscous</a>
                </p>
            </div>
        </footer>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="//yastatic.net/highlightjs/8.2/highlight.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
